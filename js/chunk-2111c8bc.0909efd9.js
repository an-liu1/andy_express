(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2111c8bc"],{"1e30":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-5 ml-4"},[a("div",[a("el-breadcrumb",{staticClass:"border el-breadcrumb-outer",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{staticClass:"mt-3 ml-3"},[e._v("订单详情")]),a("el-breadcrumb-item",{staticClass:"mt-3"},[a("span",{staticStyle:{color:"#f39c12"}},[a("i",{staticClass:"fas fa-warehouse"}),e._v(" 待入库")])]),a("div",{staticClass:"float-right mt-2 mr-3"},[a("el-input",{staticClass:"filter-item searchInputWidth",attrs:{type:"text",placeholder:"搜索","prefix-icon":"el-icon-search",clearable:""},on:{input:e.handleQuery},model:{value:e.keyWord,callback:function(t){e.keyWord=t},expression:"keyWord"}})],1)],1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!1===e.switchAdd,expression:"switchAdd === false"}],staticClass:"mt-2 float-right mb-2",attrs:{type:"primary"},on:{click:e.switchAddExpress}},[a("i",{staticClass:"el-icon-plus"},[e._v(" 新增单号")])]),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.switchAdd,expression:"switchAdd === true"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"mt-5"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm el-form-outer",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"快递公司:",prop:"localexpresscompany"}},[a("el-select",{attrs:{placeholder:"请选择快递公司"},model:{value:e.ruleForm.localexpresscompany,callback:function(t){e.$set(e.ruleForm,"localexpresscompany",t)},expression:"ruleForm.localexpresscompany"}},e._l(e.expressoptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),a("el-collapse-transition",["其他："===e.ruleForm.localexpresscompany?a("el-input",{staticStyle:{width:"calc(100%-100px)","margin-top":"10px"},attrs:{placeholder:"请手动输入公司"},model:{value:e.manualInput,callback:function(t){e.manualInput=t},expression:"manualInput"}}):e._e()],1)],1),a("el-form-item",{attrs:{label:"快递单号:",prop:"localexpressnumber"}},[a("el-input",{staticClass:"el-input-width",model:{value:e.ruleForm.localexpressnumber,callback:function(t){e.$set(e.ruleForm,"localexpressnumber",t)},expression:"ruleForm.localexpressnumber"}})],1),a("el-form-item",{attrs:{label:"货物名称:",prop:"goodname"}},[a("el-input",{staticClass:"el-input-width",model:{value:e.ruleForm.goodname,callback:function(t){e.$set(e.ruleForm,"goodname",t)},expression:"ruleForm.goodname"}})],1),a("el-form-item",{attrs:{label:"货物数量:",prop:"goodNumber"}},[a("el-input",{staticClass:"el-input-width",model:{value:e.ruleForm.goodNumber,callback:function(t){e.$set(e.ruleForm,"goodNumber",t)},expression:"ruleForm.goodNumber"}})],1),a("el-form-item",{attrs:{label:"* 客户备注:",prop:"goodNotes"}},[a("el-input",{staticClass:"el-input-width",attrs:{placeholder:""},model:{value:e.ruleForm.goodNotes,callback:function(t){e.$set(e.ruleForm,"goodNotes",t)},expression:"ruleForm.goodNotes"}})],1)],1),a("div",{staticClass:"mb-4 text-center"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addExpress}},[e._v(" 确认添加 ")]),a("el-button",{attrs:{type:"warning"},on:{click:e.switchAddExpress}},[e._v(" 取消编辑 ")])],1)],1)]),a("el-table",{staticClass:"borderRadius mt-5",attrs:{data:e.tableData,border:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"goodId",label:"货物号",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.goodId.substr(-10))+" ")]}}])}),a("el-table-column",{attrs:{prop:"trackingNumber",label:"快递单号",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"expressCompany",label:"快递公司",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"goodName",label:"货物名称",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"goodNumber",label:"货物数量",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"goodNotes",label:"客户备注",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e._f("moment")(a.updatedAt,"timezone","Asia/Shanghai","YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),a("el-table-column",{attrs:{label:"货物状态",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",{staticClass:"text-danger"},[e._v(e._s(o.goodStatus))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"130",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.handleUpdate(o)}}},[e._v(" 修改 ")])]}}])})],1),a("pagination",{staticClass:"mt-5 float-right",attrs:{data:e.tableData,pager:"prev, pager, next, jumper, ->, total, slot",limitNumber:"5"},on:{pagechange:e.pageChange}}),a("el-dialog",{attrs:{title:"货物入库信息",visible:e.switchEditSign,center:"",width:"420px"},on:{"update:visible":function(t){e.switchEditSign=t}}},[a("el-form",{attrs:{model:e.updateForm,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"货物名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.goodname,callback:function(t){e.$set(e.updateForm,"goodname",t)},expression:"updateForm.goodname"}})],1),a("el-form-item",{attrs:{label:"货物数量"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.goodNumber,callback:function(t){e.$set(e.updateForm,"goodNumber",t)},expression:"updateForm.goodNumber"}})],1),a("el-form-item",{attrs:{label:"客户备注"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.goodNotes,callback:function(t){e.$set(e.updateForm,"goodNotes",t)},expression:"updateForm.goodNotes"}})],1),a("el-form-item",{attrs:{label:"快递公司"}},[a("el-select",{attrs:{placeholder:"请选择快递公司"},model:{value:e.updateForm.localexpresscompany,callback:function(t){e.$set(e.updateForm,"localexpresscompany",t)},expression:"updateForm.localexpresscompany"}},e._l(e.expressoptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),"其他："===e.updateForm.localexpresscompany?a("el-input",{staticStyle:{width:"calc(100%-100px)","margin-top":"10px"},attrs:{placeholder:"请手动输入公司"},model:{value:e.manualInput,callback:function(t){e.manualInput=t},expression:"manualInput"}}):e._e()],1),a("el-form-item",{attrs:{label:"快递单号"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateForm.localexpressnumber,callback:function(t){e.$set(e.updateForm,"localexpressnumber",t)},expression:"updateForm.localexpressnumber"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.switchEditSign=!1}}},[e._v("取消")]),""===e.updateForm.goodname||""===e.updateForm.localexpresscompany||""===e.updateForm.localexpressnumber?a("el-button",{attrs:{type:"primary",disabled:""}},[e._v("确认")]):a("el-button",{attrs:{type:"primary"},on:{click:e.updateGoodsInfo}},[e._v("确认")])],1)],1)],1)])},l=[],r=(a("d81d"),a("750b")),s=a("3803"),n={name:"stockpendinglist",components:{pagination:s["a"]},setup:function(e,t){var a=t.root,o=a.$store,l=a.$message,s=Object(r["c"])("reload"),n=Object(r["f"])(!1);Object(r["d"])((function(){o.dispatch("goodGet",{status:"待入库",page:"0",size:"10"})}));var u=Object(r["a"])((function(){return o.state.goodlist})),c=Object(r["f"])(""),i=Object(r["f"])([]),p=function(){var e={keyword:{searchString:c.value},status:"待入库",page:"0",size:"10"};o.dispatch("searchGoodsForUser",e).then((function(e){i.value=e.data})).catch((function(){}))},d=Object(r["a"])((function(){var e=[];return e=""!=c.value?i.value:u.value,e.map((function(e){return{goodId:e._id,trackingNumber:e.localExpressNumber,goodName:e.goodName,goodNumber:e.goodNumber,goodNotes:e.goodNotes,expressCompany:e.localExpressCompany,goodStatus:e.goodStatus,updatedAt:e.updatedAt}}))})),m=function(e){""===c.value?o.dispatch("goodGet",{status:"待入库",page:e-1,size:"10"}):o.dispatch("searchGoodsForUser",{keyword:{searchString:c.value},status:"待入库",page:e-1,size:"10"}).then((function(e){i.value=e.data})).catch((function(){}))},b=Object(r["e"])([{value:"中国邮政",label:"中国邮政"},{value:"顺丰速运",label:"顺丰速运"},{value:"圆通快递",label:"圆通快递"},{value:"申通快递",label:"申通快递"},{value:"韵达快递",label:"韵达快递"},{value:"汇通快递",label:"汇通快递"},{value:"中通快递",label:"中通快递"},{value:"宅急送",label:"宅急送"},{value:"天天快递",label:"天天快递"},{value:"其他：",label:"其他"}]),g=Object(r["f"])(""),f=Object(r["e"])({goodname:"",goodNumber:"",goodNotes:"",localexpressnumber:"",localexpresscompany:""}),v=Object(r["f"])({goodname:[{required:!0,message:"请输入货物名称",trigger:"blur"}],goodNumber:[{required:!0,message:"请输入货物数量",trigger:"blur"}],localexpressnumber:[{required:!0,message:"请输入快递单号",trigger:"blur"}],localexpresscompany:[{required:!0,message:"请输入快递公司",trigger:"blur"}]}),x=Object(r["f"])(!1),h=function(e){var t=e.row;return!1===t.status?"information-row":!0===t.status?"success-row":void 0},N=function(){x.value=!x.value},y=function(){if(""===f.goodname)l.error("货物名称不能为空！");else if(""===f.goodNumber)l.error("货物数量不能为空！");else if(""===f.localexpressnumber)l.error("快递单号不能为空！");else if(""===f.localexpresscompany)l.error("货快递公司不能为空！");else if("其他："===f.localexpresscompany&&""===g.value)l.error("请手动输入快递公司名称！");else{var e={goodName:f.goodname,goodNumber:f.goodNumber,goodNotes:f.goodNotes,localExpressNumber:f.localexpressnumber,localExpressCompany:f.localexpresscompany+g.value};n.value=!0,o.dispatch("submitExpress",e).then((function(){l.success("单号添加成功！"),n.value=!1,s()})).catch((function(){n.value=!1}))}},w=Object(r["f"])(!1),F=Object(r["e"])({goodId:"",goodname:"",goodNumber:"",goodNotes:"",localexpressnumber:"",localexpresscompany:""}),k=function(e){w.value=!0,F.goodId=e.goodId,F.goodname=e.goodName,F.goodNumber=e.goodNumber,F.goodNotes=e.goodNotes,F.localexpressnumber=e.trackingNumber,F.localexpresscompany=e.expressCompany},C=function(){if(w.value=!1,""===F.goodname)l.error("货物名称不能为空！");else if(""===F.goodNumber)l.error("货物数量不能为空！");else if(""===F.localexpressnumber)l.error("快递单号不能为空！");else if(""===F.localexpresscompany)l.error("货快递公司不能为空！");else if("其他："===F.localexpresscompany&&""===g.value)l.error("请手动输入快递公司名称！");else{var e={_id:F.goodId,goodName:F.goodname,goodNumber:F.goodNumber,goodNotes:F.goodNotes,localExpressNumber:F.localexpressnumber,localExpressCompany:F.localexpresscompany+g.value};n.value=!0,o.dispatch("userUpdateGoods",e).then((function(){l.success("货物快递信息修改成功！"),n.value=!1,s()})).catch((function(){n.value=!1}))}};return{loading:n,keyWord:c,handleQuery:p,returnData:i,tableData:d,goodList:u,pageChange:m,handleUpdate:k,updateForm:F,switchEditSign:w,updateGoodsInfo:C,ruleForm:f,rules:v,switchAdd:x,manualInput:g,tableRowClassName:h,switchAddExpress:N,expressoptions:b,addExpress:y}}},u=n,c=(a("9a71"),a("2877")),i=Object(c["a"])(u,o,l,!1,null,null,null);t["default"]=i.exports},3803:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-pagination",{attrs:{background:"",layout:e.pagerLayout,"current-page":e.currentPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})},l=[],r=a("750b"),s={name:"pagination",props:["pager","data","limitNumber"],setup:function(e,t){var a=t.emit,o=Object(r["a"])((function(){return e.data.length>=e.limitNumber?e.pager:"prev, pager, jumper, ->, total, slot"})),l=Object(r["f"])(),s=function(e){l.value=e,a("pagechange",e)};return{pagerLayout:o,currentPage:l,handleCurrentChange:s}}},n=s,u=a("2877"),c=Object(u["a"])(n,o,l,!1,null,null,null);t["a"]=c.exports},7570:function(e,t,a){},"9a71":function(e,t,a){"use strict";var o=a("7570"),l=a.n(o);l.a}}]);
//# sourceMappingURL=chunk-2111c8bc.0909efd9.js.map