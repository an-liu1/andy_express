(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15d2bd84"],{"0813":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"top-area"},[s("div",{staticClass:"top-area-bg",attrs:{"data-stellar-background-ratio":"0.6"}}),s("div",{staticClass:"headerTop row"},[s("div",{staticClass:"lang col-4 pl-md-5"},[s("i",{staticClass:"fas fa-language"}),s("span",{staticClass:"pl-2 langSpan",on:{click:e.toCH}},[e._v("中文")]),e._v(" | "),s("span",{staticClass:"langSpan",on:{click:e.toEN}},[e._v(" EN")])]),s("div",{staticClass:"topLogo col-4 text-center"},[s("img",{staticStyle:{cursor:"pointer"},attrs:{src:"/images/logo.png",alt:"logo",height:"50"},on:{click:function(t){return e.$router.push("/")}}})]),s("div",{staticClass:"user col-4 text-right pr-md-5"},[s("div",[s("i",{staticClass:"far fa-user-circle"}),s("span",{staticClass:"pl-2"},[s("a",{attrs:{href:"/#/login/login"},on:{click:function(t){e.loginSwitch=!0}}},[e._v("登录")]),e._v(" | "),s("a",{attrs:{href:"/#/login/register"},on:{click:function(t){e.loginSwitch=!1}}},[e._v(" 注册")])])])])]),s("div",{staticClass:"welcome-slider-area"},[s("div",{staticClass:"welcome-single-slide slider-bg-one"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row flex-v-cener"},[s("div",{staticClass:"col-md-10 offset-md-1"},[s("div",{staticClass:"welcome-text text-center"},[e.requestlink?s("div",{staticClass:"ms-login"},[s("h2",[e._v("找回密码")]),s("p",{staticClass:"h5"},[e._v("* 输入正确的注册邮箱，点击发送链接")]),s("p",{staticClass:"h5"},[e._v("* 找到邮件内的链接地址，点击进入密码修改")]),s("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.resetParam,rules:e.rules,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"email"}},[s("el-input",{attrs:{placeholder:"请输入电子邮箱"},model:{value:e.resetParam.email,callback:function(t){e.$set(e.resetParam,"email",t)},expression:"resetParam.email"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-message"},slot:"prepend"})],1)],1),s("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoging,expression:"isLoging"}],attrs:{type:"primary"},on:{click:e.requestPsw}},[e._v("向邮箱发送链接")]),s("el-button",{attrs:{type:"warning"},on:{click:e.backLogin}},[e._v("返回")])],1)],1):e._e(),e.requestlink?e._e():s("div",{staticClass:"ms-login"},[s("h2",[e._v("修改密码")]),s("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.resetParam,rules:e.rules,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"email"}},[s("el-input",{attrs:{value:e.$route.params.email,disabled:""}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-message"},slot:"prepend"})],1)],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.resetParam.password,callback:function(t){e.$set(e.resetParam,"password",t)},expression:"resetParam.password"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-lock"},slot:"prepend"})],1)],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请确认密码"},model:{value:e.resetParam.password_v,callback:function(t){e.$set(e.resetParam,"password_v",t)},expression:"resetParam.password_v"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-lock"},slot:"prepend"})],1)],1),s("div",{staticClass:"login-btn"},[s("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoging,expression:"isLoging"}],attrs:{type:"primary"},on:{click:function(t){return e.submitResetForm()}}},[e._v("点击修改")])],1)],1)],1)])])])])])])])},r=[],l=s("750b"),i={name:"resetpassword",setup:function(e,t){var s=t.root,a=s.$route,r=s.$router,i=s.$store,o=s.$message,n=s.$alert,c=s.$i18n,u=Object(l["f"])(!0);Object(l["d"])((function(){"true"===a.params.reset&&(u.value=!1)}));var p=Object(l["f"])(!1),d=Object(l["f"])({email:"",password:"",password_v:""}),m=function(){var e=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;""===d.value.email?o.error("找回密码的邮箱不能为空！"):e.test(d.value.email)?(p.value=!0,i.dispatch("requestReset",{email:d.value.email}).then((function(){n("密码重置请求发送成功，请登录邮箱查看邮件并修改密码","提示",{confirmButtonText:"确定",type:"success"}).then((function(){r.push("/login/login"),p.value=!1}))})).catch((function(){p.value=!1}))):o.error("邮箱格式不正确！")},v=function(){var e=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;if(d.value.password.length<8)o.error("密码长度要至少八位！");else if(e.test(d.value.password))if(""===d.value.password_v)o.error("确认密码不能为空！");else if(d.value.password!==d.value.password_v)o.error("两次输入密码不同，请重新输入！");else{var t={email:a.params.email,password:d.value.password};p.value=!0,i.dispatch("resetPassword",t).then((function(){o.success("修改成功，请重新登录！"),r.push("/login/login"),p.value=!1})).catch((function(){p.value=!1}))}else o.error("密码至少含有一个字母和一个数字！")},g=Object(l["f"])({password:[{required:!0,message:"密码不能为空！",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空！",trigger:"blur"}]}),f=function(){r.push("/login/login")},w=function(){c.locale="zh-CN",localStorage.setItem("lang","zh-CN")},b=function(){c.locale="en-US",localStorage.setItem("lang","en-US")};return{requestlink:u,resetParam:d,requestPsw:m,submitResetForm:v,rules:g,backLogin:f,isLoging:p,toCH:w,toEN:b}}},o=i,n=(s("5171"),s("2877")),c=Object(n["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},5171:function(e,t,s){"use strict";var a=s("db52"),r=s.n(a);r.a},db52:function(e,t,s){}}]);
//# sourceMappingURL=chunk-15d2bd84.20d4e8c4.js.map