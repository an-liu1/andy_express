(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a64b7596"],{3115:function(e,r,t){"use strict";t.r(r);var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"mt-5"},[t("div",[t("el-breadcrumb",{staticClass:"border el-breadcrumb-outer",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{staticClass:"mt-3 ml-3"},[e._v("所有订单")]),t("el-breadcrumb-item",{staticClass:"mt-3"},[t("span",{staticStyle:{color:"#f39c12"}},[t("i",{staticClass:"fas fa-tape"}),e._v(" 待付款")])]),t("div",{staticClass:"float-right mt-2 mr-3"},[t("el-input",{staticClass:"filter-item searchInputWidth",attrs:{type:"text",placeholder:"搜索","prefix-icon":"el-icon-search",clearable:""},on:{input:e.handleQuery},model:{value:e.keyWord,callback:function(r){e.keyWord=r},expression:"keyWord"}})],1)],1),t("div",{staticClass:"mt-5 mb-5"},[t("el-table",{staticClass:"borderRadius",attrs:{data:e.tableData,"highlight-current-row":"",border:""}},[t("el-table-column",{attrs:{prop:"id",label:"订单号",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[t("span",[e._v(e._s(i.id.substr(-10)))])]}}])}),t("el-table-column",{attrs:{prop:"username",label:"会员名称",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[t("span",[e._v(e._s(i.username))])]}}])}),t("el-table-column",{attrs:{prop:"packageLocation",label:"订单位置",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[t("span",[e._v(e._s(i.packageLocation))])]}}])}),t("el-table-column",{attrs:{prop:"orderSize_length",label:"订单尺寸(cm)",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[t("div",[e._v("长: "+e._s(i.orderSize_length))]),t("div",[e._v("宽: "+e._s(i.orderSize_width))]),t("div",[e._v("高: "+e._s(i.orderSize_height))])]}}])}),t("el-table-column",{attrs:{prop:"orderWeight",label:"订单重量(kg)",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[t("span",[e._v(e._s(i.orderWeight))])]}}])}),t("el-table-column",{attrs:{prop:"orderType",label:"订单类型",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[0===i.orderType?t("span",[e._v("粉末货物")]):e._e(),1===i.orderType?t("span",[e._v("液体货物")]):e._e(),2===i.orderType?t("span",[e._v("食品货物")]):e._e(),3===i.orderType?t("span",[e._v("敏感类")]):e._e(),4===i.orderType?t("span",[e._v("普通货物")]):e._e(),5===i.orderType?t("span",[e._v("体积货物")]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"shippingCountry",label:"运送国家",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[t("span",[e._v(e._s(i.shippingCountry))])]}}])}),t("el-table-column",{attrs:{prop:"orderImg",label:"订单照片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[t("el-image",{attrs:{src:e.imageDomain+i.orderImg,fit:"fill","preview-src-list":[e.imageDomain+i.orderImg]}})]}}])}),t("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var t=r.row;return[e._v(" "+e._s(e._f("moment")(t.updatedAt,"timezone","Asia/Shanghai","YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),t("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[t("span",{staticClass:"text-success"},[e._v(e._s(i.orderStatus))])]}}])}),t("el-table-column",{attrs:{prop:"packageOperator",label:"打包人员",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[i.packageOperator?t("span",{staticClass:"text-danger"},[e._v(e._s(i.packageOperator))]):t("span",{staticClass:"text-info"},[e._v("无打包人员")])]}}])}),t("el-table-column",{attrs:{prop:"packageUpdateOperator",label:"更新人员",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[i.packageUpdateOperator?t("span",{staticClass:"text-danger"},[e._v(e._s(i.packageUpdateOperator))]):t("span",{staticClass:"text-info"},[e._v("无更新人员")])]}}])}),t("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.row;return[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.handleUpdate(i)}}},[e._v("修改")])]}}])})],1),t("pagination",{staticClass:"mt-5 float-right",attrs:{data:e.tableData,pager:"prev, pager, next, jumper, ->, total, slot",limitNumber:"5"},on:{pagechange:e.pageChange}}),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"mb-5",attrs:{title:"温馨提示",visible:e.editDialogVisible,width:"420px",center:""},on:{"update:visible":function(r){e.editDialogVisible=r}}},[t("el-form",{attrs:{model:e.handleOrderForm,"label-position":"left","label-width":"140px"}},[t("el-form-item",{attrs:{label:"*订单货物长度(cm):"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.handleOrderForm.orderSize_length,callback:function(r){e.$set(e.handleOrderForm,"orderSize_length",r)},expression:"handleOrderForm.orderSize_length"}})],1),t("el-form-item",{attrs:{label:"*订单货物宽度(cm):"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.handleOrderForm.orderSize_width,callback:function(r){e.$set(e.handleOrderForm,"orderSize_width",r)},expression:"handleOrderForm.orderSize_width"}})],1),t("el-form-item",{attrs:{label:"*订单货物高度(cm):"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.handleOrderForm.orderSize_height,callback:function(r){e.$set(e.handleOrderForm,"orderSize_height",r)},expression:"handleOrderForm.orderSize_height"}})],1),t("el-form-item",{attrs:{label:"*订单货物重量(kg):"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.handleOrderForm.orderWeight,callback:function(r){e.$set(e.handleOrderForm,"orderWeight",r)},expression:"handleOrderForm.orderWeight"}})],1),t("el-form-item",{attrs:{label:"*订单货物类型:"}},[t("el-radio",{attrs:{label:0},model:{value:e.handleOrderForm.orderType,callback:function(r){e.$set(e.handleOrderForm,"orderType",r)},expression:"handleOrderForm.orderType"}},[e._v("粉末货物")]),t("el-radio",{attrs:{label:1},model:{value:e.handleOrderForm.orderType,callback:function(r){e.$set(e.handleOrderForm,"orderType",r)},expression:"handleOrderForm.orderType"}},[e._v("液体货物")]),t("el-radio",{attrs:{label:2},model:{value:e.handleOrderForm.orderType,callback:function(r){e.$set(e.handleOrderForm,"orderType",r)},expression:"handleOrderForm.orderType"}},[e._v("食品货物")]),t("el-radio",{attrs:{label:3},model:{value:e.handleOrderForm.orderType,callback:function(r){e.$set(e.handleOrderForm,"orderType",r)},expression:"handleOrderForm.orderType"}},[e._v("敏感类")]),t("el-radio",{attrs:{label:4},model:{value:e.handleOrderForm.orderType,callback:function(r){e.$set(e.handleOrderForm,"orderType",r)},expression:"handleOrderForm.orderType"}},[e._v("普通货物")]),t("el-radio",{attrs:{label:5},model:{value:e.handleOrderForm.orderType,callback:function(r){e.$set(e.handleOrderForm,"orderType",r)},expression:"handleOrderForm.orderType"}},[e._v("体积货物")])],1),t("el-form-item",{attrs:{label:"*订单货物位置:"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.handleOrderForm.packageLocation,callback:function(r){e.$set(e.handleOrderForm,"packageLocation",r)},expression:"handleOrderForm.packageLocation"}})],1),t("el-form-item",{attrs:{label:"*订单照片:"}},[t("el-upload",{attrs:{drag:"",action:"https://upload-z2.qiniup.com",data:e.token,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"file-list":e.imageUrl,"list-type":"picture"}},[e.handleOrderForm.orderImg?t("img",{staticClass:"avatar",attrs:{src:e.imageDomain+e.handleOrderForm.orderImg,alt:""}}):t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text"},[e._v(" 拖拽照片 或者 "),t("em",[e._v("点击上传")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" *上传照片只支持PNG，GIF，JPEG 和 JPG格式，大小不超过1MB。 ")])])],1),t("el-form-item",{attrs:{label:"*快递价格及时效:"}},e._l(e.handleOrderForm.retailPriceAndTime,(function(r,i){return t("div",{key:i},[e._v(" "+e._s(r.name)+": "),t("el-input",{staticClass:"input-width ml-3 float-right",attrs:{autocomplete:"off",placeholder:"时效(工作日)"},model:{value:r.time,callback:function(t){e.$set(r,"time",t)},expression:"item.time"}}),t("el-input",{staticClass:"input-width ml-1 float-right",staticStyle:{width:"60px"},attrs:{autocomplete:"off",placeholder:"价格"},model:{value:r.price,callback:function(t){e.$set(r,"price",t)},expression:"item.price"}})],1)})),0),t("el-form-item",{attrs:{label:"*打包时间:"}},[t("el-date-picker",{attrs:{type:"datetime"},model:{value:e.handleOrderForm.packageTime,callback:function(r){e.$set(e.handleOrderForm,"packageTime",r)},expression:"handleOrderForm.packageTime"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.editDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitOrderEdition}},[e._v("确定")])],1)],1)],1)],1)])},a=[],l=(t("c975"),t("d81d"),t("750b")),n=t("3803"),o=t("6121"),d={components:{pagination:n["a"]},setup:function(e,r){var t=r.root,i=t.$store,a=t.$message;Object(l["d"])((function(){i.dispatch("getAllOrderForm",{status:"已打包",page:"0",size:"5"}),i.dispatch("getUpToken")}));var n=Object(l["c"])("reload"),d=Object(l["a"])((function(){return i.state.orderlist})),c=Object(l["f"])(!1),s=Object(l["f"])(!1),p=Object(l["e"])({orderId:"",orderImg:"",orderSize_width:"",orderSize_height:"",orderSize_length:"",orderWeight:"",orderType:"",packageLocation:"",orderGoodsList:[],retailPriceAndTime:[{name:"DHL",price:"",time:""},{name:"UPS",price:"",time:""},{name:"FedEx",price:"",time:""},{name:"TNT",price:"",time:""},{name:"EMS",price:"",time:""},{name:"Special",price:"",time:""}],packageTime:""}),m=function(e){s.value=!0,p.orderId=e.id,p.orderImg=e.orderImg,p.orderSize_width=e.orderSize_width,p.orderSize_height=e.orderSize_height,p.orderSize_length=e.orderSize_length,p.orderWeight=e.orderWeight,p.orderType=e.orderType,p.packageLocation=e.packageLocation,p.packageTime=e.updatedAt,p.orderGoodsList=e.orderGoodsList.map((function(e){return e.goodId})),p.retailPriceAndTime[0].price=e.retailPriceAndTime.DHL.price,p.retailPriceAndTime[0].time=e.retailPriceAndTime.DHL.time,p.retailPriceAndTime[1].price=e.retailPriceAndTime.UPS.price,p.retailPriceAndTime[1].time=e.retailPriceAndTime.UPS.time,p.retailPriceAndTime[2].price=e.retailPriceAndTime.FedEx.price,p.retailPriceAndTime[2].time=e.retailPriceAndTime.FedEx.time,p.retailPriceAndTime[3].price=e.retailPriceAndTime.TNT.price,p.retailPriceAndTime[3].time=e.retailPriceAndTime.TNT.time,p.retailPriceAndTime[4].price=e.retailPriceAndTime.EMS.price,p.retailPriceAndTime[4].time=e.retailPriceAndTime.EMS.time,p.retailPriceAndTime[5].price=e.retailPriceAndTime.Special.price,p.retailPriceAndTime[5].time=e.retailPriceAndTime.Special.time},u=Object(l["e"])([]),g=Object(l["a"])((function(){return i.state.token})),h=function(e){var r=!0,t=["image/gif","image/jpeg","image/jpg","image/png"],i=e.size/1024/1024<1;return-1==t.indexOf(e.type)&&(a.error("上传文件应该是图片格式！"),r=!1),i||(a.error("图片大小超过1MB了哦！"),r=!1),r},f=function(e){i.dispatch("getUpToken").then((function(){p.orderImg=e.key,u.value=[o["a"]+e.key]}))},T=function(){var e={orderId:p.orderId,orderImg:p.orderImg,orderSize_width:p.orderSize_width,orderSize_height:p.orderSize_height,orderSize_length:p.orderSize_length,orderWeight:p.orderWeight,orderType:p.orderType,packageLocation:p.packageLocation,retailPriceAndTime:{DHL:{price:p.retailPriceAndTime[0].price,time:p.retailPriceAndTime[0].time},UPS:{price:p.retailPriceAndTime[1].price,time:p.retailPriceAndTime[1].time},FedEx:{price:p.retailPriceAndTime[2].price,time:p.retailPriceAndTime[2].time},TNT:{price:p.retailPriceAndTime[3].price,time:p.retailPriceAndTime[3].time},EMS:{price:p.retailPriceAndTime[4].price,time:p.retailPriceAndTime[4].time},Special:{price:p.retailPriceAndTime[5].price,time:p.retailPriceAndTime[5].time}},packageTime:p.packageTime,goodsLists:p.orderGoodsList,packageUpdateOperator:i.state.userSelf.username};""==e.orderId||""==e.orderImg||""==e.orderSize_width||""==e.orderSize_height||""==e.orderSize_length||""==e.orderWeight||""===e.orderType||""==e.packageLocation||""==e.packageTime?a.error("请填写完整的货物打包信息"):null==e.retailPriceAndTime.DHL.price&&null==e.retailPriceAndTime.DHL.time&&null==e.retailPriceAndTime.UPS.price&&null==e.retailPriceAndTime.UPS.time&&null==e.retailPriceAndTime.FedEx.price&&null==e.retailPriceAndTime.FedEx.time&&null==e.retailPriceAndTime.TNT.price&&null==e.retailPriceAndTime.TNT.time&&null==e.retailPriceAndTime.EMS.price&&null==e.retailPriceAndTime.EMS.time&&null==e.retailPriceAndTime.Special.price&&null==e.retailPriceAndTime.Special.time?a.error("请填写快递信息"):null!=e.retailPriceAndTime.DHL.price&&null==e.retailPriceAndTime.DHL.time||null==e.retailPriceAndTime.DHL.price&&null!=e.retailPriceAndTime.DHL.time?a.error("请填写完整的DHL快递信息"):null!=e.retailPriceAndTime.UPS.price&&null==e.retailPriceAndTime.UPS.time||null==e.retailPriceAndTime.UPS.price&&null!=e.retailPriceAndTime.UPS.time?a.error("请填写完整的UPS快递信息"):null!=e.retailPriceAndTime.FedEx.price&&null==e.retailPriceAndTime.FedEx.time||null==e.retailPriceAndTime.FedEx.price&&null!=e.retailPriceAndTime.FedEx.time?a.error("请填写完整的FedEx快递信息"):null!=e.retailPriceAndTime.TNT.price&&null==e.retailPriceAndTime.TNT.time||null==e.retailPriceAndTime.TNT.price&&null!=e.retailPriceAndTime.TNT.time?a.error("请填写完整的TNT快递信息"):null!=e.retailPriceAndTime.EMS.price&&null==e.retailPriceAndTime.EMS.time||null==e.retailPriceAndTime.EMS.price&&null!=e.retailPriceAndTime.EMS.time?a.error("请填写完整的EMS快递信息"):null!=e.retailPriceAndTime.Special.price&&null==e.retailPriceAndTime.Special.time||null==e.retailPriceAndTime.Special.price&&null!=e.retailPriceAndTime.Special.time?a.error("请填写完整的Special快递信息"):(c.value=!0,s.value=!1,i.dispatch("updateOrderForm",e).then((function(){a.success("货物信息更新成功！"),c.value=!1,n()})).catch((function(){c.value=!1})))},b=Object(l["a"])((function(){var e=[];return e=""!=_.value?v.value:d.value,e.map((function(e){return{id:e._id,username:e.username,orderStatus:e.orderStatus,packageLocation:e.packageLocation,orderType:e.orderType,shippingCountry:e.shippingCountry,orderSize_height:e.orderSize_height,orderSize_length:e.orderSize_length,orderSize_width:e.orderSize_width,orderWeight:e.orderWeight,updatedAt:e.updatedAt,orderImg:e.orderImg,orderGoodsList:e.orderGoodsList,retailPriceAndTime:e.retailPriceAndTime,packageOperator:e.packageOperator,packageUpdateOperator:e.packageUpdateOperator}}))})),_=Object(l["f"])(""),v=Object(l["f"])([]),P=function(){var e={keyword:{searchString:_.value},status:"已打包",page:"0",size:"5"};i.dispatch("searchOrders",e).then((function(e){v.value=e.data})).catch((function(){}))},S=function(e){""===_.value?i.dispatch("getAllOrderForm",{status:"已打包",page:e-1,size:5}):i.dispatch("searchOrders",{keyword:{searchString:_.value},status:"已打包",page:e-1,size:5}).then((function(e){v.value=e.data})).catch((function(){}))};return{keyWord:_,handleQuery:P,pageChange:S,orderList:d,tableData:b,loading:c,editDialogVisible:s,handleOrderForm:p,handleUpdate:m,imageUrl:u,beforeAvatarUpload:h,handleAvatarSuccess:f,submitOrderEdition:T,mainDomain:o["b"],imageDomain:o["a"],token:g}}},c=d,s=(t("b858"),t("2877")),p=Object(s["a"])(c,i,a,!1,null,null,null);r["default"]=p.exports},3803:function(e,r,t){"use strict";var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-pagination",{attrs:{background:"",layout:e.pagerLayout,"current-page":e.currentPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(r){e.currentPage=r},"update:current-page":function(r){e.currentPage=r}}})},a=[],l=t("750b"),n={name:"pagination",props:["pager","data","limitNumber"],setup:function(e,r){var t=r.emit,i=Object(l["a"])((function(){return e.data.length>=e.limitNumber?e.pager:"prev, pager, jumper, ->, total, slot"})),a=Object(l["f"])(),n=function(e){a.value=e,t("pagechange",e)};return{pagerLayout:i,currentPage:a,handleCurrentChange:n}}},o=n,d=t("2877"),c=Object(d["a"])(o,i,a,!1,null,null,null);r["a"]=c.exports},8820:function(e,r,t){},b858:function(e,r,t){"use strict";var i=t("8820"),a=t.n(i);a.a}}]);
//# sourceMappingURL=chunk-a64b7596.7cb9dc7c.js.map