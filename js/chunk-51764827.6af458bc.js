(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51764827"],{"024f":function(t,e,a){"use strict";var s=a("4c26"),o=a.n(s);o.a},"4c26":function(t,e,a){},babd:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.role?t._e():a("div",[a("Page401")],1),t.role?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"emailContainer",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("h3",{staticClass:"text-center mt-3 pb-4"},[t._v("发表邮件 & 公告")]),a("el-form",{ref:"postForm",staticClass:"row",attrs:{model:t.postForm}},[a("el-form-item",{staticClass:"col-12 col-md-6",attrs:{"label-width":"90px",label:"标题:"}},[a("el-input",{attrs:{name:"title",required:""},model:{value:t.postForm.title,callback:function(e){t.$set(t.postForm,"title",e)},expression:"postForm.title"}})],1),a("el-form-item",{staticClass:"col-12 col-md-3",attrs:{"label-width":"90px",label:"重要性:"}},[a("el-rate",{staticStyle:{display:"inline-block"},attrs:{max:3,colors:["#99A9BF","#F7BA2A","#FF9900"],"low-threshold":1,"high-threshold":3},model:{value:t.postForm.importance,callback:function(e){t.$set(t.postForm,"importance",e)},expression:"postForm.importance"}})],1),a("el-form-item",{staticClass:"col-12 col-md-3",attrs:{"label-width":"90px",label:"类型:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.postForm.type,callback:function(e){t.$set(t.postForm,"type",e)},expression:"postForm.type"}},[a("el-option",{attrs:{label:"邮件",value:"邮件"}}),a("el-option",{attrs:{label:"公告",value:"公告"}})],1)],1),a("el-form-item",{staticClass:"col-12",attrs:{"label-width":"90px",label:"简介:"}},[a("el-input",{attrs:{name:"summary",required:""},model:{value:t.postForm.summary,callback:function(e){t.$set(t.postForm,"summary",e)},expression:"postForm.summary"}})],1),a("el-form-item",{staticClass:"col-12",staticStyle:{"margin-bottom":"30px"}},[a("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.postForm.content,callback:function(e){t.$set(t.postForm,"content",e)},expression:"postForm.content"}})],1),a("el-form-item",{staticClass:"col-12"},[a("el-button",{staticClass:"float-right mr-2",attrs:{type:"warning"},nativeOn:{click:function(e){return t.$router.push("/dashboard/emaillist")}}},[t._v("取 消 ")]),a("el-button",{staticClass:"float-right mr-2",attrs:{type:"primary"},nativeOn:{click:function(e){return t.saveEmail(e)}}},[t._v("发 布")])],1)],1),a("div",{staticClass:"row preview"},[t._m(0),a("div",{staticClass:"col-12 emailDisplay"},[a("div",{domProps:{innerHTML:t._s(t.postForm.content)}})])])],1):t._e()])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("h4",[a("span",[t._v("预览: ")])])])}],l=a("8256"),r=a("1f2c"),i={title:"",content:"",importance:0,summary:"",type:""},n={components:{Tinymce:l["a"],Page401:r["a"]},data:function(){return{postForm:Object.assign({},i),loading:!1}},computed:{role:function(){return"Admin/管理员"===this.$store.state.role}},methods:{saveEmail:function(){var t=this;this.loading=!0,this.$store.dispatch("createEmailTemplate",this.postForm).then((function(){t.$message.success("发布成功！"),t.loading=!1,t.$router.push("/dashboard/emaillist")})).catch((function(){t.$message.error("添加失败！")}))}}},c=n,m=(a("024f"),a("2877")),p=Object(m["a"])(c,s,o,!1,null,"b541a4e2",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-51764827.6af458bc.js.map