{"version":3,"sources":["webpack:///./src/views/admin/components/InfoPagination.vue?b392","webpack:///src/views/admin/components/InfoPagination.vue","webpack:///./src/views/admin/components/InfoPagination.vue?95de","webpack:///./src/views/admin/components/InfoPagination.vue","webpack:///./src/views/admin/user/SignComment.vue?3d1f","webpack:///src/views/admin/user/SignComment.vue","webpack:///./src/views/admin/user/SignComment.vue?e4b9","webpack:///./src/views/admin/user/SignComment.vue","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/views/admin/user/SignComment.vue?29e9"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","pagerLayout","currentPage","on","handleCurrentChange","$event","staticRenderFns","name","props","setup","pager","value","val","emit","component","staticClass","_v","staticStyle","handleQuery","model","callback","$$v","keyWord","expression","TableData","tableRowClassName","scopedSlots","_u","key","fn","ref","row","_s","orderId","substr","expressCompany","trackingNumber","trackingContact","trackingAddress","_f","packageTime","returnTrackingLink","$set","signstatus","colors","_e","SignSwitch","submitSignComment","pageChange","components","pagination","$store","dispatch","status","page","size","state","selforderlist","keyword","data","returnData","packageTrackingList","map","object","_id","orderExpressRetail","orderShippingNumber","updatedAt","commentvalue","loading","company","urlPrefix","number","urlSuffix","$message","error","$","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-5c29ea4a.ddeccb9e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-pagination',{attrs:{\"background\":\"\",\"layout\":_vm.pagerLayout,\"current-page\":_vm.currentPage},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-pagination\r\n    background\r\n    :layout=\"pagerLayout\"\r\n    @current-change=\"handleCurrentChange\"\r\n    :current-page.sync=\"currentPage\"\r\n  >\r\n  </el-pagination>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from \"@vue/composition-api\";\r\nexport default {\r\n  name: \"pagination\",\r\n  props: [\"pager\", \"data\", \"limitNumber\"],\r\n  setup(props, { emit }) {\r\n    //fetch pager from props\r\n    const pagerLayout = computed(() => {\r\n      if(props.data.length >= props.limitNumber){\r\n        return props.pager;\r\n      }\r\n      else{\r\n        return \"prev, pager, jumper, ->, total, slot\";\r\n      }\r\n    });\r\n    //the current page number\r\n    const currentPage = ref();\r\n    //handle the page change \r\n    const handleCurrentChange = val => {\r\n      currentPage.value = val\r\n      emit(\"pagechange\", val);\r\n    };\r\n    return {\r\n      pagerLayout,\r\n      currentPage,\r\n      handleCurrentChange\r\n    };\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoPagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoPagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InfoPagination.vue?vue&type=template&id=9e0afd92&\"\nimport script from \"./InfoPagination.vue?vue&type=script&lang=js&\"\nexport * from \"./InfoPagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-5 ml-4\"},[_c('div',[_c('el-breadcrumb',{staticClass:\"border el-breadcrumb-outer\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{staticClass:\"mt-3 ml-3\"},[_vm._v(\"订单详情\")]),_c('el-breadcrumb-item',{staticClass:\"mt-3\"},[_c('span',{staticStyle:{\"color\":\"#f39c12\"}},[_c('i',{staticClass:\"fas fa-file-signature\"}),_vm._v(\" 签收评价\")])]),_c('div',{staticClass:\"float-right mt-2 mr-3\"},[_c('el-input',{staticClass:\"filter-item searchInputWidth\",attrs:{\"type\":\"text\",\"placeholder\":\"搜索\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},on:{\"input\":_vm.handleQuery},model:{value:(_vm.keyWord),callback:function ($$v) {_vm.keyWord=$$v},expression:\"keyWord\"}})],1)],1),_c('el-table',{staticClass:\"borderRadius mt-5\",attrs:{\"data\":_vm.TableData,\"border\":\"\",\"row-class-name\":_vm.tableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"orderId\",\"label\":\"订单号\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.orderId.substr(-10)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"expressCompany\",\"label\":\"国际快递公司\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.expressCompany))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"trackingNumber\",\"label\":\"国际单号\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.trackingNumber))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"trackingContact\",\"label\":\"收件人\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.trackingContact))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"trackingAddress\",\"label\":\"收件地址\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.trackingAddress))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"更新时间\",\"align\":\"center\",\"prop\":\"packageTime\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(_vm._f(\"moment\")(row.packageTime,\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"快递寄送情况\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_c('el-link',{attrs:{\"type\":\"warning\",\"target\":\"_blank\",\"href\":_vm.returnTrackingLink(row.expressCompany, row.trackingNumber)}},[_vm._v(\"点击查询\")])],1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"签收\",\"width\":\"160\",\"align\":\"center\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-checkbox',{model:{value:(row.signstatus),callback:function ($$v) {_vm.$set(row, \"signstatus\", $$v)},expression:\"row.signstatus\"}}),(row.signstatus === true)?_c('div',[_vm._v(\" 留下您的评价吧： \"),_c('el-rate',{attrs:{\"show-score\":\"\",\"colors\":_vm.colors},model:{value:(row.commentvalue),callback:function ($$v) {_vm.$set(row, \"commentvalue\", $$v)},expression:\"row.commentvalue\"}})],1):_vm._e()]}}])})],1),_c('div',{staticClass:\"mt-5 float-right\"},[(_vm.SignSwitch === true)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitSignComment}},[_vm._v(\"确认签收\")]):_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":\"\"}},[_vm._v(\"确认签收\")])],1),_c('pagination',{staticClass:\"mt-5 float-right\",attrs:{\"data\":_vm.TableData,\"pager\":\"prev, pager, next, jumper, ->, total, slot\",\"limitNumber\":\"5\"},on:{\"pagechange\":_vm.pageChange}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mt-5 ml-4\">\r\n    <div>\r\n      <el-breadcrumb\r\n        separator-class=\"el-icon-arrow-right\"\r\n        class=\"border el-breadcrumb-outer\"\r\n      >\r\n        <el-breadcrumb-item class=\"mt-3 ml-3\">订单详情</el-breadcrumb-item>\r\n        <el-breadcrumb-item class=\"mt-3\"\r\n          ><span style=\"color:#f39c12;\"\r\n            ><i class=\"fas fa-file-signature\" /> 签收评价</span\r\n          >\r\n        </el-breadcrumb-item>\r\n        <div class=\"float-right mt-2 mr-3\">\r\n          <el-input\r\n            v-model=\"keyWord\"\r\n            type=\"text\"\r\n            placeholder=\"搜索\"\r\n            class=\"filter-item searchInputWidth\"\r\n            prefix-icon=\"el-icon-search\"\r\n            @input=\"handleQuery\"\r\n            clearable\r\n          />\r\n        </div>\r\n      </el-breadcrumb>\r\n      <!-- <pre>{{packageTrackingList}}</pre> -->\r\n      <el-table\r\n        :data=\"TableData\"\r\n        class=\"borderRadius mt-5\"\r\n        border\r\n        :row-class-name=\"tableRowClassName\"\r\n      >\r\n        <el-table-column prop=\"orderId\" label=\"订单号\" align=\"center\" sortable>\r\n          <template slot-scope=\"{ row }\">\r\n            <span>{{ row.orderId.substr(-10) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"expressCompany\"\r\n          label=\"国际快递公司\"\r\n          align=\"center\"\r\n          sortable\r\n        >\r\n          <template slot-scope=\"{ row }\">\r\n            <span>{{ row.expressCompany }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"trackingNumber\"\r\n          label=\"国际单号\"\r\n          align=\"center\"\r\n          sortable\r\n        >\r\n          <template slot-scope=\"{ row }\">\r\n            <span>{{ row.trackingNumber }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"trackingContact\"\r\n          label=\"收件人\"\r\n          align=\"center\"\r\n          sortable\r\n        >\r\n          <template slot-scope=\"{ row }\">\r\n            <span>{{ row.trackingContact }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"trackingAddress\"\r\n          label=\"收件地址\"\r\n          align=\"center\"\r\n          sortable\r\n        >\r\n          <template slot-scope=\"{ row }\">\r\n            <span>{{ row.trackingAddress }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"更新时间\"\r\n          align=\"center\"\r\n          prop=\"packageTime\"\r\n          sortable\r\n        >\r\n          <template slot-scope=\"{ row }\">\r\n            <span>{{\r\n              row.packageTime\r\n                | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")\r\n            }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"快递寄送情况\" align=\"center\">\r\n          <template slot-scope=\"{ row }\">\r\n            <span>\r\n              <el-link\r\n                type=\"warning\"\r\n                target=\"_blank\"\r\n                :href=\"\r\n                  returnTrackingLink(row.expressCompany, row.trackingNumber)\r\n                \"\r\n                >点击查询</el-link\r\n              >\r\n            </span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"status\"\r\n          label=\"签收\"\r\n          width=\"160\"\r\n          align=\"center\"\r\n          fixed=\"right\"\r\n        >\r\n          <template slot-scope=\"{ row }\">\r\n            <el-checkbox v-model=\"row.signstatus\"></el-checkbox>\r\n            <div v-if=\"row.signstatus === true\">\r\n              留下您的评价吧：\r\n              <el-rate v-model=\"row.commentvalue\" show-score :colors=\"colors\">\r\n              </el-rate>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div class=\"mt-5 float-right\">\r\n        <el-button\r\n          v-if=\"SignSwitch === true\"\r\n          type=\"primary\"\r\n          @click=\"submitSignComment\"\r\n          >确认签收</el-button\r\n        >\r\n        <el-button v-else type=\"primary\" disabled=\"\">确认签收</el-button>\r\n      </div>\r\n      <pagination\r\n        :data=\"TableData\"\r\n        class=\"mt-5 float-right\"\r\n        @pagechange=\"pageChange\"\r\n        pager=\"prev, pager, next, jumper, ->, total, slot\"\r\n        limitNumber=\"5\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  reactive,\r\n  computed,\r\n  onMounted,\r\n  ref,\r\n  inject,\r\n  watchEffect,\r\n} from \"@vue/composition-api\";\r\nimport pagination from \"../components/InfoPagination\";\r\nexport default {\r\n  components: {\r\n    pagination,\r\n  },\r\n  setup(props, { root: { $store, $message } }) {\r\n    onMounted(() => {\r\n      $store.dispatch(\"getOrderForm\", {\r\n        status: \"已发货\",\r\n        page: \"0\",\r\n        size: \"5\",\r\n      });\r\n    });\r\n    const loading = ref(false);\r\n    const toReload = inject(\"reload\");\r\n\r\n    //table data for display\r\n    const packageTrackingList = computed(() => {\r\n      return $store.state.selforderlist;\r\n    });\r\n    const keyWord = ref(\"\");\r\n    const returnData = ref([]);\r\n    const handleQuery = () => {\r\n      let data = {\r\n        keyword: { searchString: keyWord.value },\r\n        status: \"已发货\",\r\n        page: \"0\",\r\n        size: \"5\",\r\n      };\r\n      $store\r\n        .dispatch(\"searchOrdersForUser\", data)\r\n        .then((res) => {\r\n          returnData.value = res.data;\r\n        })\r\n        .catch(() => {});\r\n    };\r\n    const TableData = computed(() => {\r\n      let data = [];\r\n      if (keyWord.value != \"\") {\r\n        data = returnData.value;\r\n      } else {\r\n        data = packageTrackingList.value;\r\n      }\r\n      return data.map((object) => {\r\n        return {\r\n          orderId: object._id,\r\n          expressCompany: object.orderExpressRetail,\r\n          trackingNumber: object.orderShippingNumber,\r\n          trackingContact: `${object.shippingRecevier}, ${object.shippingPhone}`,\r\n          trackingAddress: `${object.shippingAddress}, ${object.shippingCity}, ${object.shippingProvince}, ${object.shippingCountry}, ${object.shippingPostcode}`,\r\n          packageTime: object.updatedAt,\r\n          signstatus: false,\r\n          commentvalue: 0,\r\n        };\r\n      });\r\n    });\r\n    const tableRowClassName = ({ row }) => {\r\n      if (row.signstatus === true) {\r\n        return \"warning-row\";\r\n      }\r\n      return \"\";\r\n    };\r\n    const colors = reactive([\"#99A9BF\", \"#F7BA2A\", \"#FF9900\"]);\r\n    const pageChange = (val) => {\r\n      if (keyWord.value === \"\") {\r\n        $store.dispatch(\"getOrderForm\", {\r\n          status: \"已发货\",\r\n          page: val - 1,\r\n          size: 5,\r\n        });\r\n      } else {\r\n        $store\r\n          .dispatch(\"searchOrdersForUser\", {\r\n            keyword: { searchString: keyWord.value },\r\n            status: \"已发货\",\r\n            page: val - 1,\r\n            size: 5,\r\n          })\r\n          .then((res) => {\r\n            returnData.value = res.data;\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    };\r\n\r\n    //sign and comment\r\n    const SignSwitch = ref(false);\r\n    watchEffect(() => {\r\n      if (\r\n        TableData.value.filter((object) => object.signstatus == true).length ==\r\n        0\r\n      ) {\r\n        SignSwitch.value = false;\r\n      } else {\r\n        SignSwitch.value = true;\r\n      }\r\n    });\r\n    const submitSignComment = () => {\r\n      loading.value = true;\r\n      let data = TableData.value\r\n        .filter((object) => object.signstatus === true)\r\n        .map((object) => {\r\n          return {\r\n            id: object.orderId,\r\n            is_delivery: 1,\r\n            orderEvaluate: object.commentvalue,\r\n          };\r\n        });\r\n      $store\r\n        .dispatch(\"isDeliveryAndRank\", data)\r\n        .then(() => {\r\n          $message.success(\"感谢您的签收以及评分！\");\r\n          loading.value = false;\r\n          toReload();\r\n        })\r\n        .catch(() => {\r\n          loading.value = false;\r\n        });\r\n    };\r\n\r\n    //tracking\r\n    const returnTrackingLink = (company, number) => {\r\n      if (company === \"DHL\") {\r\n        let urlPrefix = \"https://www.dhl.com/en/express/tracking.html?AWB=\";\r\n        let urlSuffix = \"&brand=DHL\";\r\n        return urlPrefix + number + urlSuffix;\r\n      } else if (company === \"UPS\") {\r\n        let urlPrefix = \"https://www.ups.com/track?loc=en_CA&tracknum=\";\r\n        let urlSuffix = \"&requester=WT/trackdetails\";\r\n        return urlPrefix + number + urlSuffix;\r\n      } else if (company === \"FedEx\") {\r\n        let urlPrefix =\r\n          \"https://www.fedex.com/apps/fedextrack/index.html?tracknumbers=\";\r\n        let urlSuffix = \"&cntry_code=ca\";\r\n        return urlPrefix + number + urlSuffix;\r\n      } else if (company === \"TNT\") {\r\n        let urlPrefix =\r\n          \"https://www.tnt.com/express/en_ca/site/tracking.html?searchType=con&cons=\";\r\n        return urlPrefix + number;\r\n      } else if (company === \"EMS\") {\r\n        let urlPrefix = \"https://t.17track.net/en#nums=\";\r\n        return urlPrefix + number;\r\n      } else if (company === \"Special\") {\r\n        $message.error(\"暂无Special速递查询信息\");\r\n      }\r\n    };\r\n\r\n    return {\r\n      loading,\r\n\r\n      keyWord,\r\n      handleQuery,\r\n      pageChange,\r\n      TableData,\r\n      packageTrackingList,\r\n      tableRowClassName,\r\n      colors,\r\n\r\n      SignSwitch,\r\n      submitSignComment,\r\n\r\n      returnTrackingLink,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.el-table .warning-row {\r\n  background: oldlace;\r\n}\r\n\r\n.el-table .success-row {\r\n  background: #f0f9eb;\r\n}\r\n\r\n.el-breadcrumb-outer {\r\n  height: 48px;\r\n  font-size: 15px;\r\n  background-color: #f0f3f4;\r\n  border-radius: 3px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignComment.vue?vue&type=template&id=7270b70d&\"\nimport script from \"./SignComment.vue?vue&type=script&lang=js&\"\nexport * from \"./SignComment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignComment.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignComment.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignComment.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}