(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bf05644"],{"206d":function(e,a,s){"use strict";var t=s("4413"),l=s.n(t);l.a},4413:function(e,a,s){},a55b:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"top-area"},[s("div",{staticClass:"top-area-bg",attrs:{"data-stellar-background-ratio":"0.6"}}),s("div",{staticClass:"headerTop row"},[s("div",{staticClass:"lang col-4 pl-md-5"},[s("i",{staticClass:"fas fa-language"}),s("span",{staticClass:"pl-2 langSpan",on:{click:e.toCH}},[e._v("中文")]),e._v(" | "),s("span",{staticClass:"langSpan",on:{click:e.toEN}},[e._v(" EN")])]),s("div",{staticClass:"topLogo col-4 text-center"},[s("img",{staticStyle:{cursor:"pointer"},attrs:{src:"/images/logo.png",alt:"logo",height:"50"},on:{click:function(a){return e.$router.push("/")}}})]),s("div",{staticClass:"user col-4 text-right pr-md-5"},[s("div",[s("i",{staticClass:"far fa-user-circle"}),s("span",{staticClass:"pl-2"},[s("a",{attrs:{href:"/#/login/login"},on:{click:function(a){e.loginSwitch=!0}}},[e._v("登录")]),e._v(" | "),s("a",{attrs:{href:"/#/login/register"},on:{click:function(a){e.loginSwitch=!1}}},[e._v(" 注册")])])])])]),s("div",{staticClass:"welcome-slider-area"},[s("div",{staticClass:"welcome-single-slide slider-bg-one"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row flex-v-cener"},[s("div",{staticClass:"col-md-10 offset-md-1"},[s("div",{staticClass:"welcome-text text-center"},[e.loginSwitch?s("div",{staticClass:"ms-login"},[s("h2",[e._v("用户登录")]),s("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.loginParam,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"email"}},[s("el-input",{attrs:{placeholder:"请输入电子邮箱"},model:{value:e.loginParam.email,callback:function(a){e.$set(e.loginParam,"email",a)},expression:"loginParam.email"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-user"},slot:"prepend"})],1)],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.submitLoginForm()}},model:{value:e.loginParam.password,callback:function(a){e.$set(e.loginParam,"password",a)},expression:"loginParam.password"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-lock"},slot:"prepend"})],1)],1),s("div",{staticClass:"login-btn"},[s("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(a){return e.submitLoginForm()}}},[e._v("确认登录")])],1),s("p",{staticClass:"login-tips"},[e._v(" 新用户? "),s("span",{staticClass:"span",on:{click:function(a){e.loginSwitch=!e.loginSwitch}}},[e._v("点击注册")]),s("span",{staticClass:"span_f",on:{click:function(a){return e.forgotPsw()}}},[e._v("忘记密码？")])])],1)],1):e._e(),e.loginSwitch?e._e():s("div",{staticClass:"ms-login"},[s("h2",[e._v("新用户注册")]),s("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.signupParam,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"email"}},[s("el-input",{attrs:{placeholder:"请输入电子邮箱"},model:{value:e.signupParam.email,callback:function(a){e.$set(e.signupParam,"email",a)},expression:"signupParam.email"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-user"},slot:"prepend"})],1)],1),s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.signupParam.username,callback:function(a){e.$set(e.signupParam,"username",a)},expression:"signupParam.username"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-s-flag"},slot:"prepend"})],1)],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.signupParam.password,callback:function(a){e.$set(e.signupParam,"password",a)},expression:"signupParam.password"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-lock"},slot:"prepend"})],1)],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请确认密码"},model:{value:e.signupParam.password_v,callback:function(a){e.$set(e.signupParam,"password_v",a)},expression:"signupParam.password_v"}},[s("el-button",{attrs:{slot:"prepend",icon:"el-icon-lock"},slot:"prepend"})],1)],1),s("el-form-item",{attrs:{prop:"weixin"}},[s("el-input",{attrs:{placeholder:"请输入微信账号,以便客服服务"},model:{value:e.signupParam.weixin,callback:function(a){e.$set(e.signupParam,"weixin",a)},expression:"signupParam.weixin"}},[s("el-button",{attrs:{slot:"prepend",icon:"fab fa-weixin"},slot:"prepend"})],1)],1),s("div",{staticClass:"login-btn"},[s("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(a){return e.submitSignUpForm()}}},[e._v("点击注册")])],1),s("p",{staticClass:"login-tips"},[e._v(" 已经有了账户？ "),s("span",{staticClass:"span",on:{click:function(a){e.loginSwitch=!e.loginSwitch}}},[e._v("直接登录")])])],1)],1)])])])])])])])},l=[],i=s("750b"),n={name:"login",setup:function(e,a){var s=a.root,t=s.$route,l=s.$router,n=s.$store,o=s.$message,r=s.$i18n,c=s.$alert,p=Object(i["f"])(!0),u=Object(i["f"])({email:"",password:""}),d=Object(i["f"])(!1);Object(i["d"])((function(){"register"===t.params.login?p.value=!1:"login"===t.params.login&&(p.value=!0)}));var m=function(){d.value=!0;var e={email:u.value.email,password:u.value.password};n.dispatch("login",e).then((function(){l.push("/dashboard"),d.value=!1,o.success("登陆成功！")})).catch((function(){d.value=!1}))},v=Object(i["f"])({email:"",password:"",password_v:"",username:"",weixin:""}),g=function(){d.value=!0;var e=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/,a=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;if(""===v.value.email)o.error("注册邮箱不能为空！"),d.value=!1;else if(e.test(v.value.email))if(v.value.password.length<8)o.error("密码长度要至少八位！"),d.value=!1;else if(a.test(v.value.password))if(""===v.value.password_v)o.error("确认密码不能为空！"),d.value=!1;else if(v.value.password!==v.value.password_v)o.error("两次输入密码不同，请重新输入！"),d.value=!1;else if(""===v.value.username)o.error("用户名不能为空！"),d.value=!1;else if(v.value.username.indexOf(" ")>=0)o.error("用户名不能含有空格！"),d.value=!1;else{var s={email:v.value.email,username:v.value.username,password:v.value.password,weixin:v.value.weixin};n.dispatch("signup",s).then((function(){c("注册成功，请登录邮箱验证激活账户！","提示",{confirmButtonText:"确定",type:"success"}).then((function(){d.value=!1,p.value=!p.value}))})).catch((function(){d.value=!1}))}else o.error("密码至少含有一个字母和一个数字！"),d.value=!1;else o.error("邮箱格式不正确！"),d.value=!1},f=function(){l.push("/resetpassword/1/1/false")},w=function(){r.locale="zh-CN",localStorage.setItem("lang","zh-CN")},h=function(){r.locale="en-US",localStorage.setItem("lang","en-US")};return{loading:d,loginSwitch:p,forgotPsw:f,loginParam:u,submitLoginForm:m,signupParam:v,submitSignUpForm:g,toCH:w,toEN:h}}},o=n,r=(s("206d"),s("2877")),c=Object(r["a"])(o,t,l,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2bf05644.4d37d4d7.js.map