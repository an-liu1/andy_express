{"version":3,"sources":["webpack:///./src/views/admin/components/InfoPagination.vue?b392","webpack:///src/views/admin/components/InfoPagination.vue","webpack:///./src/views/admin/components/InfoPagination.vue?95de","webpack:///./src/views/admin/components/InfoPagination.vue","webpack:///./src/views/admin/administration/cancelOrderTurnover.vue?a67c","webpack:///./src/views/admin/administration/cancelOrderTurnover.vue?387b","webpack:///src/views/admin/administration/cancelOrderTurnover.vue","webpack:///./src/views/admin/administration/cancelOrderTurnover.vue?86be","webpack:///./src/views/admin/administration/cancelOrderTurnover.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","pagerLayout","currentPage","on","handleCurrentChange","$event","staticRenderFns","name","props","setup","pager","value","val","emit","component","staticClass","staticStyle","_v","pickerOptions","model","callback","$$v","dateDuration","expression","downloadLoading","handleDownload","slot","tableData","scopedSlots","_u","key","fn","ref","row","_s","username","_id","substr","_f","createdAt","orderStatus","updatedAt","cancleFee","pageChange","components","pagination","$store","dispatch","page","size","state","PaiedCancelOrderForm","data","jsonData","map","j","$moment","v","cancelOrderTurnoverData","shortcuts"],"mappings":"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","file":"js/chunk-36a37abd.dfb34f02.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-pagination',{attrs:{\"background\":\"\",\"layout\":_vm.pagerLayout,\"current-page\":_vm.currentPage},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-pagination\r\n    background\r\n    :layout=\"pagerLayout\"\r\n    @current-change=\"handleCurrentChange\"\r\n    :current-page.sync=\"currentPage\"\r\n  >\r\n  </el-pagination>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from \"@vue/composition-api\";\r\nexport default {\r\n  name: \"pagination\",\r\n  props: [\"pager\", \"data\", \"limitNumber\"],\r\n  setup(props, { emit }) {\r\n    //fetch pager from props\r\n    const pagerLayout = computed(() => {\r\n      if(props.data.length >= props.limitNumber){\r\n        return props.pager;\r\n      }\r\n      else{\r\n        return \"prev, pager, jumper, ->, total, slot\";\r\n      }\r\n    });\r\n    //the current page number\r\n    const currentPage = ref();\r\n    //handle the page change \r\n    const handleCurrentChange = val => {\r\n      currentPage.value = val\r\n      emit(\"pagechange\", val);\r\n    };\r\n    return {\r\n      pagerLayout,\r\n      currentPage,\r\n      handleCurrentChange\r\n    };\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoPagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InfoPagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InfoPagination.vue?vue&type=template&id=9e0afd92&\"\nimport script from \"./InfoPagination.vue?vue&type=script&lang=js&\"\nexport * from \"./InfoPagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cancelOrderTurnover.vue?vue&type=style&index=0&id=f0656a48&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cancelOrderTurnover.vue?vue&type=style&index=0&id=f0656a48&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('div',{staticClass:\"border pt-2 pb-2 pl-3\",staticStyle:{\"font-size\":\"18px\",\"background-color\":\"#F0F3F4\",\"border-radius\":\"3px\"}},[_c('span',{staticClass:\"mb-3\"},[_vm._v(\"取消订单\")]),_c('el-popover',{staticClass:\"float-right mr-3\",attrs:{\"placement\":\"bottom\",\"title\":\"选择导出时间\",\"width\":\"370\",\"trigger\":\"click\"}},[_c('div',[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.dateDuration),callback:function ($$v) {_vm.dateDuration=$$v},expression:\"dateDuration\"}}),_c('el-button',{staticClass:\"float-right mt-3 pl-4 pr-4\",attrs:{\"loading\":_vm.downloadLoading,\"type\":\"primary\"},on:{\"click\":_vm.handleDownload}},[_vm._v(\" 导出 \")])],1),_c('el-button',{attrs:{\"slot\":\"reference\",\"icon\":\"el-icon-document\",\"type\":\"primary\"},slot:\"reference\"},[_vm._v(\"Excel导出\")])],1)],1),_c('div',{staticClass:\"mt-5\"},[_c('el-table',{staticClass:\"borderRadius\",attrs:{\"data\":_vm.tableData,\"highlight-current-row\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"会员名称\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.username))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"_id\",\"label\":\"订单号\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row._id.substr(-10)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"createdAt\",\"label\":\"创建时间\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(_vm._f(\"moment\")(row.createdAt,\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"orderStatus\",\"label\":\"订单状态\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(row.orderStatus))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"updatedAt\",\"label\":\"取消时间\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(_vm._f(\"moment\")(row.updatedAt,\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"cancleFee\",\"label\":\"取消订单费用\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.cancleFee))])]}}])})],1),_c('pagination',{staticClass:\"mt-5 mb-5 float-right\",attrs:{\"data\":_vm.tableData,\"pager\":\"prev, pager, next, jumper, ->, total, slot\",\"limitNumber\":\"20\"},on:{\"pagechange\":_vm.pageChange}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <div\r\n        class=\"border pt-2 pb-2 pl-3\"\r\n        style=\"font-size:18px;background-color:#F0F3F4;border-radius:3px;\"\r\n      >\r\n        <span class=\"mb-3\">取消订单</span>\r\n        <!-- <div class=\"float-right mr-3\">\r\n          <el-input\r\n            v-model=\"keyWord\"\r\n            type=\"text\"\r\n            placeholder=\"搜索\"\r\n            class=\"filter-item searchInputWidth\"\r\n            prefix-icon=\"el-icon-search\"\r\n            @input=\"handleQuery\"\r\n            clearable\r\n          />\r\n        </div> -->\r\n        <el-popover\r\n          placement=\"bottom\"\r\n          title=\"选择导出时间\"\r\n          width=\"370\"\r\n          trigger=\"click\"\r\n          class=\"float-right mr-3\"\r\n        >\r\n          <div>\r\n            <el-date-picker\r\n              v-model=\"dateDuration\"\r\n              type=\"daterange\"\r\n              align=\"right\"\r\n              unlink-panels\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              :picker-options=\"pickerOptions\"\r\n            >\r\n            </el-date-picker>\r\n            <el-button\r\n              :loading=\"downloadLoading\"\r\n              type=\"primary\"\r\n              @click=\"handleDownload\"\r\n              class=\"float-right mt-3 pl-4 pr-4\"\r\n            >\r\n              导出\r\n            </el-button>\r\n          </div>\r\n          <el-button icon=\"el-icon-document\" type=\"primary\" slot=\"reference\"\r\n            >Excel导出</el-button\r\n          >\r\n        </el-popover>\r\n      </div>\r\n\r\n      <div class=\"mt-5\">\r\n        <!-- <pre>{{tableData}}</pre> -->\r\n        <el-table\r\n          :data=\"tableData\"\r\n          class=\"borderRadius\"\r\n          highlight-current-row\r\n          border\r\n        >\r\n          <el-table-column\r\n            prop=\"username\"\r\n            label=\"会员名称\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.username }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"_id\" label=\"订单号\" align=\"center\" sortable>\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row._id.substr(-10) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"createdAt\"\r\n            label=\"创建时间\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{\r\n                row.createdAt\r\n                  | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")\r\n              }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"orderStatus\"\r\n            label=\"订单状态\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span class=\"text-danger\">{{ row.orderStatus }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"updatedAt\"\r\n            label=\"取消时间\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{\r\n                row.updatedAt\r\n                  | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")\r\n              }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"cancleFee\"\r\n            label=\"取消订单费用\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.cancleFee }}</span>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- <el-button @click=\"exportFile\">下载</el-button> -->\r\n        <pagination\r\n          :data=\"tableData\"\r\n          class=\"mt-5 mb-5 float-right\"\r\n          @pagechange=\"pageChange\"\r\n          pager=\"prev, pager, next, jumper, ->, total, slot\"\r\n          limitNumber=\"20\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, computed, ref, reactive } from \"@vue/composition-api\";\r\nimport pagination from \"../components/InfoPagination\";\r\n//import {toPercent} from '../../../utils/function';\r\nexport default {\r\n  components: {\r\n    pagination,\r\n  },\r\n\r\n  setup(props, { root: { $store, $moment } }) {\r\n    onMounted(() => {\r\n      $store.dispatch(\"getPaiedCancleOrderForm\", {\r\n        page: \"0\",\r\n        size: \"20\",\r\n      });\r\n    });\r\n\r\n    const PaiedCancelOrderForm = computed(() => {\r\n      return $store.state.PaiedCancelOrderForm;\r\n    });\r\n\r\n    const tableData = computed(() => {\r\n      let data = [];\r\n      // if (keyWord.value != \"\") {\r\n      //data = returnData.value;\r\n      // } else {\r\n      data = PaiedCancelOrderForm.value;\r\n      // }\r\n      return data;\r\n    });\r\n\r\n    //const keyWord = ref(\"\");\r\n\r\n    //const returnData = ref([]);\r\n\r\n    // const handleQuery = () => {\r\n    //   let data = {\r\n    //     keyword: { searchString: keyWord.value },\r\n    //     status: \"已签收\",\r\n    //     page: 0,\r\n    //     size: 20,\r\n    //     status1: \"已发货\",\r\n    //   };\r\n    //   $store\r\n    //     .dispatch(\"searchOrders\", data)\r\n    //     .then((res) => {\r\n    //       returnData.value = res.data;\r\n    //     })\r\n    //     .catch(() => {});\r\n    // };\r\n\r\n    const pageChange = (val) => {\r\n      // if (keyWord.value === \"\") {\r\n      $store.dispatch(\"gePaiedCancleOrderForm\", {\r\n        page: val - 1,\r\n        size: \"20\",\r\n      });\r\n      // } else {\r\n      //   $store\r\n      //     .dispatch(\"searchOrders\", {\r\n      //       keyword: { searchString: keyWord.value },\r\n      //       status: \"已签收\",\r\n      //       page: val - 1,\r\n      //       size: 20,\r\n      //       status1: \"已发货\",\r\n      //     })\r\n      //     .then((res) => {\r\n      //       returnData.value = res.data;\r\n      //     })\r\n      //     .catch(() => {});\r\n      // }\r\n    };\r\n\r\n    const formatJson = (filterVal, jsonData) => {\r\n      return jsonData.map((v) =>\r\n        filterVal.map((j) => {\r\n          if (j == \"updatedAt\" || j == \"createdAt\") {\r\n            return $moment(v[j])\r\n              .tz(\"Asia/Shanghai\")\r\n              .format(\"YYYY-MM-DD HH:mm:ss\");\r\n          } else {\r\n            return v[j];\r\n          }\r\n        })\r\n      );\r\n    };\r\n    const downloadLoading = ref(false);\r\n    const cancelOrderTurnoverData = computed(() => {\r\n      return $store.state.cancelOrderTurnoverData;\r\n    });\r\n    const handleDownload = () => {\r\n      let fromDate = $moment(dateDuration.value[0])\r\n        .subtract(1, \"days\")\r\n        .format(\"YYYY-MM-DD 00:00:00\");\r\n      let toDate = $moment(dateDuration.value[1])\r\n        .add(1, \"days\")\r\n        .format(\"YYYY-MM-DD 00:00:00\");\r\n\r\n      $store\r\n        .dispatch(\"getCancelOrderTurnover\", {\r\n          fromDate: fromDate,\r\n          toDate: toDate,\r\n        })\r\n        .then(() => {\r\n          downloadLoading.value = true;\r\n          import(\"@/components/Export2Excel\").then((excel) => {\r\n            const tHeader = [\r\n              \"会员名称\",\r\n              \"订单号\",\r\n              \"创建时间\",\r\n              \"订单状态\",\r\n              \"取消时间\",\r\n              \"取消订单费用\",\r\n            ];\r\n            const a = [\r\n              \"username\",\r\n              \"_id\",\r\n              \"createdAt\",\r\n              \"orderStatus\",\r\n              \"updatedAt\",\r\n              \"cancleFee\",\r\n            ];\r\n            const data = formatJson(a, cancelOrderTurnoverData.value);\r\n            excel.export_json_to_excel({\r\n              header: tHeader,\r\n              data,\r\n              filename:\r\n                $moment(fromDate)\r\n                  .add(1, \"days\")\r\n                  .format(\"YYYY/MM/DD\") +\r\n                \"-\" +\r\n                $moment(toDate)\r\n                  .subtract(1, \"days\")\r\n                  .format(\"MM/DD\") +\r\n                \"- 取消订单流水\",\r\n              autoWidth: true,\r\n              bookType: \"xlsx\",\r\n            });\r\n            downloadLoading.value = false;\r\n          });\r\n        });\r\n    };\r\n    const dateDuration = ref(\"\");\r\n    const pickerOptions = reactive({\r\n      shortcuts: [\r\n        {\r\n          text: \"最近一周\",\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            picker.$emit(\"pick\", [start, end]);\r\n          },\r\n        },\r\n        {\r\n          text: \"最近一个月\",\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            picker.$emit(\"pick\", [start, end]);\r\n          },\r\n        },\r\n        {\r\n          text: \"最近三个月\",\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            picker.$emit(\"pick\", [start, end]);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    return {\r\n      // keyWord,\r\n      // handleQuery,\r\n      pageChange,\r\n\r\n      //orderList,\r\n      tableData,\r\n      downloadLoading,\r\n      handleDownload,\r\n      pickerOptions,\r\n      dateDuration,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-breadcrumb-outer {\r\n  height: 48px;\r\n  font-size: 15px;\r\n  background-color: #f0f3f4;\r\n  border-radius: 3px;\r\n}\r\n.bottom-margin {\r\n  margin-bottom: 120px;\r\n}\r\n.dialog-notice {\r\n  color: #f56c6c;\r\n  font-weight: 800;\r\n  margin-left: 42px;\r\n}\r\n.input-width {\r\n  width: 80px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cancelOrderTurnover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cancelOrderTurnover.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cancelOrderTurnover.vue?vue&type=template&id=f0656a48&scoped=true&\"\nimport script from \"./cancelOrderTurnover.vue?vue&type=script&lang=js&\"\nexport * from \"./cancelOrderTurnover.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cancelOrderTurnover.vue?vue&type=style&index=0&id=f0656a48&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0656a48\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}